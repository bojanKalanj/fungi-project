<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= content_for?(:title) ? yield(:title) : t('shared.sections.fungiorbis') %></title>
  <%= csrf_meta_tags %>

  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js" type="text/javascript"></script>
  <![endif]-->

  <%= stylesheet_link_tag "application", :media => "all" %>

  <%= favicon_link_tag 'favico/apple-icon-57x57.png', rel: 'apple-touch-icon', sizes: '57x57' %>
  <%= favicon_link_tag 'favico/apple-icon-60x60.png', rel: 'apple-touch-icon', sizes: '60x60' %>
  <%= favicon_link_tag 'favico/apple-icon-72x72.png', rel: 'apple-touch-icon', sizes: '72x72' %>
  <%= favicon_link_tag 'favico/apple-icon-76x76.png', rel: 'apple-touch-icon', sizes: '76x76' %>
  <%= favicon_link_tag 'favico/apple-icon-114x114.png', rel: 'apple-touch-icon', sizes: '114x114' %>
  <%= favicon_link_tag 'favico/apple-icon-120x120.png', rel: 'apple-touch-icon', sizes: '120x120' %>
  <%= favicon_link_tag 'favico/apple-icon-144x144.png', rel: 'apple-touch-icon', sizes: '144x144' %>
  <%= favicon_link_tag 'favico/apple-icon-152x152.png', rel: 'apple-touch-icon', sizes: '152x152' %>
  <%= favicon_link_tag 'favico/apple-icon-180x180.png', rel: 'apple-touch-icon', sizes: '180x180' %>

  <%= favicon_link_tag 'favico/android-icon-192x192.png', rel: 'icon', type: 'image/png', sizes: '' %>
  <%= favicon_link_tag 'favico/favicon-32x32.png', rel: 'icon', type: 'image/png', sizes: '' %>
  <%= favicon_link_tag 'favico/favicon-96x96.png', rel: 'icon', type: 'image/png', sizes: '' %>
  <%= favicon_link_tag 'favico/favicon-16x16.png', rel: 'icon', type: 'image/png', sizes: '' %>

  <%= favicon_link_tag 'favico/favicon.ico', :rel => 'shortcut icon' %>

  <%= javascript_include_tag "application" %>
</head>
<body>

<%= nav_bar fixed: :top, brand: t('shared.sections.fungiorbis'), responsive: true do %>
  <%= menu_group do %>
    <%= menu_item "Home", 'root_path' %>
    <%= menu_divider %>
  <% end %>

  <%= menu_group pull: :right do %>
    <%= content_tag :li, class: 'dropdown' do %>
      <%= link_to(name_and_caret(' '), "#", :class => "dropdown-toggle fa-lg fa fa-flag", "data-toggle" => "dropdown") %>
      <%= drop_down_list do %>
        <% Language.all.each do |language| %>
          <% unless language.locale == I18n.locale.to_s %>
            <%= menu_item send(localized_url_helper(language.locale_slug)), title: language.title do %>
              <%= content_tag :span, '', class: "flag-icon flag-icon-#{language.flag}" %>
              <%= content_tag :span, language.title %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <%= menu_group pull: :right do %>
    <% if current_user %>
      <% if current_user.supervisor? %>
        <%= content_tag :li, class: 'dropdown' do %>
          <%= link_to(name_and_caret(' '), "#", :class => "dropdown-toggle fa-lg #{fo_icon(:admin)}", "data-toggle" => "dropdown", title: t('shared.sections.administration')) %>
          <%= drop_down_list do %>
            <%= menu_item ' '+ t('shared.sections.species'), admin_species_index_path, class: fo_icon(:species) %>
            <%= menu_item ' ' + t('shared.sections.specimens'), admin_specimens_path, class: fo_icon(:specimens) %>
            <%= menu_item ' ' + t('shared.sections.references'), admin_references_path, class: fo_icon(:references) %>
            <%= menu_item ' ' + t('shared.sections.locations'), admin_locations_path, class: fo_icon(:locations) %>
            <%= menu_item ' ' + t('shared.sections.users'), admin_users_path, class: fo_icon(:users) %>
            <%= menu_item ' ' + t('shared.sections.languages'), admin_languages_path, class: fo_icon(:languages) %>
            <%= menu_item ' ' + t('shared.sections.pages'), admin_pages_path, class: fo_icon(:pages) %>
          <% end %>
        <% end %>

      <% end %>
      <%= menu_item ' ', destroy_user_session_path, class: "fa-lg #{fo_icon(:sign_out)}", method: :delete, title: t('devise.actions.sign_out') %>
    <% else %>
      <%= simple_form_for [:admin, User.new], url: session_path(:user), html: { class: 'navbar-form pull-left hidden' } do |f| -%>
        <%= f.input :email, label: false, placeholder: t('devise.fields.email') %>
        <%= f.input :password, label: false, placeholder: t('devise.fields.password') %>
        <%= f.submit class: fo_icon(:sign_in), disabled: false %>
      <% end -%>

      <% data = { toggle: 'form#new_user',
                  toggle_class: "#{fo_icon(:sign_in)} #{fo_icon(:cancel)}".gsub('fa ', ''),
                  toggle_class_target: '#toggle_sign_in' } %>
      <%= menu_item ' ', ' ', class: "fa-lg #{fo_icon(:sign_in)} pull-right", data: data, id: 'toggle_sign_in', title: t('devise.actions.sign_out') %>

    <% end %>


  <% end %>
<% end %>

<div class="container">
  <div class="row">
    <div class="col-lg-9">
      <%= bootstrap_flash %>
      <%= yield %>
    </div>
    <div class="col-lg-3">
      <div class="well sidebar-nav">
        <h3>Sidebar</h3>
        <ul class="nav nav-list">
          <li class="nav-header">Sidebar</li>
          <li><%= link_to "Link1", "/path1" %></li>
          <li><%= link_to "Link2", "/path2" %></li>
          <li><%= link_to "Link3", "/path3" %></li>
        </ul>
      </div>
      <!--/.well -->
    </div>
    <!--/span-->
  </div>
  <!--/row-->

  <footer>
    <p>&copy; Company 2015</p>
  </footer>

</div>
<!-- /container -->

</body>
</html>
